import{d as C,r as x,a as D,o as I,c as S,b as h,e as V,f as T,g as U,h as o,E as F,w as n,i as v,t as L,j as P,k as $,l as A,m as M,n as J,p as q,q as H,s as N,u as E,v as W}from"./vendor-DbLcGjMX.js";(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))f(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const b of s.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&f(b)}).observe(document,{childList:!0,subtree:!0});function e(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function f(a){if(a.ep)return;a.ep=!0;const s=e(a);fetch(a.href,s)}})();const j={class:"header"},K=C({__name:"HelloWorld",setup(y){const l=x([]),e=D({date:"",name:"",total_money:"",performance_money:"",add_money:"",board_money:""}),f=u=>{const{columns:t,data:d}=u,m=[];return t.forEach((c,_)=>{if(_===0){m[_]="合计";return}else if(_===1){m[_]="";return}if(!d||d.length===0)return m;const w=d.map(p=>Number(p[c.property]));w.every(p=>Number.isNaN(p))||(m[_]=`${w.reduce((p,i)=>{const g=Number(i);return Number.isNaN(g)?p:p+i},0)}`)}),m},a=x(!1),s=()=>{a.value=!a.value},b=()=>{N.confirm("检测到已有相同日期的数据，是否覆盖？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{l.value[1]={...e,date:e.date},l.value.sort((t,d)=>d.date.localeCompare(t.date)),localStorage.setItem("tableData",JSON.stringify(l.value)),E({type:"success",message:"数据已更新"}),e.date="",e.name="",e.total_money="",e.performance_money="",e.add_money="",e.board_money=""})},B=u=>{const t=l.value.find(d=>d.date===u);e.date=new Date(t.date),e.name=t.name,e.total_money=t.total_money,e.performance_money=t.performance_money,e.add_money=t.add_money,e.board_money=t.board_money,a.value=!0},O=u=>{N.confirm("你确定要删除吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{l.value=l.value.filter(t=>t.date!==u),localStorage.setItem("tableData",JSON.stringify(l.value)),E({type:"success",message:"删除成功"})})};return I(()=>{const u=localStorage.getItem("tableData");u?(l.value=JSON.parse(u),console.log(l.value)):l.value=[]}),(u,t)=>{const d=F,m=A,c=$,_=P,w=M,p=J,i=H,g=q;return h(),S("div",null,[V("div",j,[t[6]||(t[6]=V("span",{class:"font-bold text-2xl"},"下店数据",-1)),o(d,{class:"add-btn",type:"primary",onClick:s},{default:n(()=>[v(L(a.value?"关闭新增":"新增下店记录"),1)]),_:1})]),a.value?(h(),T(p,{key:0},{default:n(()=>[o(_,{model:e,style:{"margin-top":"24px"}},{default:n(()=>[o(c,{label:"店名：","label-width":"140px"},{default:n(()=>[o(m,{modelValue:e.name,"onUpdate:modelValue":t[0]||(t[0]=r=>e.name=r),style:{width:"240px"}},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),o(c,{label:"下店时间：","label-width":"140px"},{default:n(()=>[o(w,{modelValue:e.date,"onUpdate:modelValue":t[1]||(t[1]=r=>e.date=r),type:"date",placeholder:"选择日期",style:{width:"240px"}},null,8,["modelValue"])]),_:1}),o(c,{label:"总业绩(一销)：","label-width":"140px"},{default:n(()=>[o(m,{modelValue:e.total_money,"onUpdate:modelValue":t[2]||(t[2]=r=>e.total_money=r),style:{width:"240px"}},null,8,["modelValue"])]),_:1}),o(c,{label:"回款业绩：","label-width":"140px"},{default:n(()=>[o(m,{modelValue:e.performance_money,"onUpdate:modelValue":t[3]||(t[3]=r=>e.performance_money=r),style:{width:"240px"}},null,8,["modelValue"])]),_:1}),o(c,{label:"加选(二销)：","label-width":"140px"},{default:n(()=>[o(m,{modelValue:e.add_money,"onUpdate:modelValue":t[4]||(t[4]=r=>e.add_money=r),style:{width:"240px"}},null,8,["modelValue"])]),_:1}),o(c,{label:"打板：","label-width":"140px"},{default:n(()=>[o(m,{modelValue:e.board_money,"onUpdate:modelValue":t[5]||(t[5]=r=>e.board_money=r),style:{width:"240px"}},null,8,["modelValue"])]),_:1}),o(d,{style:{width:"200px"},type:"primary",onClick:b},{default:n(()=>t[7]||(t[7]=[v("提交")])),_:1})]),_:1})):U("",!0),o(p,{class:"!border-none",shadow:"always"},{default:n(()=>[o(g,{data:l.value,border:"",style:{width:"100%"},"show-summary":"","summary-method":f},{default:n(()=>[o(i,{prop:"date",label:"下店时间",width:"120"}),o(i,{prop:"name","show-overflow-tooltip":"",label:"店名",width:"200"}),o(i,{prop:"total_money",label:"总业绩(一销)",width:"140"}),o(i,{prop:"performance_money",label:"回款业绩",width:"140"}),o(i,{prop:"add_money",label:"加选(二销)",width:"140"}),o(i,{prop:"board_money",label:"打板",width:"140"}),o(i,{label:"操作",width:"180"},{default:n(({row:r})=>[o(d,{type:"primary",onClick:k=>B(r.date)},{default:n(()=>t[8]||(t[8]=[v("修改")])),_:2},1032,["onClick"]),o(d,{type:"primary",onClick:k=>O(r.date)},{default:n(()=>t[9]||(t[9]=[v("删除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1})])}}}),z=(y,l)=>{const e=y.__vccOpts||y;for(const[f,a]of l)e[f]=a;return e},G=z(K,[["__scopeId","data-v-6b81a1b5"]]),Q={class:"app-container"},R=C({__name:"App",setup(y){return(l,e)=>(h(),S("div",Q,[o(G)]))}});W(R).mount("#app");
